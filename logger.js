/*Copyright Spraak naar Tekst*/
function e(){o(function(){setTimeout(e,1e4)})}function o(e){var o=new Date,t=""+n(o.getFullYear())+n(o.getMonth()+1)+n(o.getDate())+"ServerCore.log";try{var l=c.length,i=c.join("\r\n");r.appendFile(s+t,i,function(o,n){o?i("Couldn't write log files because something unexpected happened",o):c.splice(-1*l),e()})}catch(e){i("Couldn't write log files because something unexpected happened",e)}}function n(e){for(;e.length<2;)e="0"+e;return e}function t(e,o,n){"function"==typeof o&&(n=o,o=511),l(e,o,function(e){n(e?"EEXIST"==e.code?null:e:null)})}var r=require("fs"),l=require("mkdirp"),i=require("prettyjson"),u=require("./config.js"),g={stringColor:"green",keysColor:"yellow",dashColor:"yellow",numberColor:"green"},c=[];if(u.writeLogs){var s=u.logLocation;t(s,function(o){o?(logText("Couldn't write log files because logs directory could not be created"),logText(o)):e()})}module.exports={log:function(){var e=arguments,o=new Date;console.log(o.toISOString()+":"),u.writeLogs&&c.push(o.toISOString()+":");for(var n=0;n<e.length;n++)console.log("   "+i.render(e[n],g)),u.writeLogs&&c.push("   "+i.render(e[n],{noColor:!0}))}};